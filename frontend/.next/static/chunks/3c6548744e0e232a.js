(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,25613,e=>{"use strict";var t=e.i(48277),s=e.i(30668);e.i(39057);var r=e.i(92927);let a=new class{baseUrl;constructor(e){this.baseUrl=e||"https://mushariq-full-stack-todo.hf.space"}async request(e,t={}){let s=`${this.baseUrl}${e}`,a=await (0,r.getToken)(),o={"Content-Type":"application/json",...a&&{Authorization:`Bearer ${a}`},...t.headers},i={...t,headers:o},l=await fetch(s,i);if(401===l.status)throw(0,r.clearAuthSession)(),window.location.href="/login",Error("Unauthorized: Please log in again");if(204!==l.status){if(!l.ok){let e=await l.json().catch(()=>({}));throw Error(e.detail||e.message||`HTTP error! status: ${l.status}`)}return await l.json()}}get(e,t){return this.request(e,{...t,method:"GET"})}post(e,t,s){return this.request(e,{...s,method:"POST",body:JSON.stringify(t)})}put(e,t,s){return this.request(e,{...s,method:"PUT",body:JSON.stringify(t)})}delete(e,t){return this.request(e,{...t,method:"DELETE"})}};class o{static async getAllTodos(){return a.get("/tasks/")}static async createTodo(e){return a.post("/tasks/",e)}static async updateTodo(e,t){return a.put(`/tasks/${e}`,t)}static async deleteTodo(e){await a.delete(`/tasks/${e}`)}static async getTodoById(e){return a.get(`/tasks/${e}`)}}let i=()=>{let[e,t]=(0,s.useState)([]),[r,a]=(0,s.useState)(!0),[i,l]=(0,s.useState)(null),n=(0,s.useCallback)(async()=>{try{a(!0),l(null);let e=await o.getAllTodos();t(e)}catch(e){l(e instanceof Error?e.message:"Failed to fetch todos")}finally{a(!1)}},[]);return(0,s.useEffect)(()=>{n()},[n]),{todos:e,loading:r,error:i,createTodo:async e=>{try{l(null);let s=await o.createTodo(e);t(e=>[...e,s])}catch(e){throw l(e instanceof Error?e.message:"Failed to create todo"),e}},updateTodo:async(e,s)=>{try{l(null);let r=await o.updateTodo(e,s);t(t=>t.map(t=>t.id===e?r:t))}catch(e){throw l(e instanceof Error?e.message:"Failed to update todo"),e}},deleteTodo:async e=>{try{l(null),await o.deleteTodo(e),t(t=>t.filter(t=>t.id!==e))}catch(e){throw l(e instanceof Error?e.message:"Failed to delete todo"),e}},refetch:n}};function l({todo:e,onUpdate:r,onDelete:a}){let[o,i]=(0,s.useState)(!1),[l,n]=(0,s.useState)(e.title),[d,c]=(0,s.useState)(!1),u=async()=>{c(!0);try{await r(e.id,{is_completed:!e.is_completed})}catch(e){console.error("Failed to update todo:",e)}finally{c(!1)}},m=async()=>{if(""!==l.trim()){c(!0);try{await r(e.id,{title:l.trim()}),i(!1)}catch(e){console.error("Failed to update todo:",e)}finally{c(!1)}}},h=async()=>{if(window.confirm("Are you sure you want to delete this task?")){c(!0);try{await a(e.id)}catch(e){console.error("Failed to delete todo:",e)}finally{c(!1)}}};return(0,t.jsx)("li",{className:`bg-white rounded-lg shadow-sm border ${e.is_completed?"border-green-200 bg-green-50/50":"border-gray-200"} p-4 transition-all duration-200 hover:shadow-md`,children:(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.is_completed,onChange:u,disabled:d,className:"h-5 w-5 text-blue-600 rounded focus:ring-blue-500 mt-0.5 flex-shrink-0"}),(0,t.jsx)("div",{className:"ml-3 flex-1 min-w-0",children:o?(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-2",children:[(0,t.jsx)("input",{type:"text",value:l,onChange:e=>n(e.target.value),className:"flex-1 min-w-0 block w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",autoFocus:!0,onKeyDown:e=>"Enter"===e.key&&m()}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)("button",{onClick:m,disabled:d,className:"inline-flex items-center px-3 py-1.5 text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 transition duration-200",children:d?"Saving...":"Save"}),(0,t.jsx)("button",{onClick:()=>{i(!1),n(e.title)},className:"inline-flex items-center px-3 py-1.5 text-sm font-medium rounded-lg text-gray-700 bg-gray-200 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition duration-200",children:"Cancel"})]})]}):(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:`text-base font-medium ${e.is_completed?"line-through text-gray-500":"text-gray-900"}`,children:e.title}),e.description&&(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500 break-words",children:e.description}),(0,t.jsxs)("p",{className:"mt-2 text-xs text-gray-400",children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]}),(0,t.jsxs)("div",{className:"mt-2 sm:mt-0 flex space-x-2",children:[(0,t.jsxs)("button",{onClick:()=>i(!0),disabled:d,className:"inline-flex items-center px-3 py-1.5 text-sm font-medium rounded-lg text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 transition duration-200",children:[(0,t.jsx)("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),(0,t.jsxs)("button",{onClick:h,disabled:d,className:"inline-flex items-center px-3 py-1.5 text-sm font-medium rounded-lg text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 transition duration-200",children:[(0,t.jsx)("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]})})]})})}function n(){let{todos:e,loading:s,error:r,updateTodo:a,deleteTodo:o,refetch:n}=i();return s?(0,t.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((e,s)=>(0,t.jsx)("div",{className:"animate-pulse bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)("div",{className:"h-5 w-5 bg-gray-200 rounded mt-0.5"}),(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),(0,t.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]})]})},s))}):r?(0,t.jsx)("div",{className:"rounded-lg bg-red-50 border border-red-200 p-4 mb-4",children:(0,t.jsxs)("div",{className:"flex items-center text-red-700",children:[(0,t.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsxs)("span",{children:["Error: ",r]}),(0,t.jsx)("button",{onClick:n,className:"ml-4 text-sm underline text-red-600 hover:text-red-800",children:"Retry"})]})}):0===e.length?(0,t.jsxs)("div",{className:"text-center py-16",children:[(0,t.jsx)("div",{className:"flex justify-center mb-6",children:(0,t.jsx)("div",{className:"bg-gradient-to-r from-blue-100 to-indigo-100 p-4 rounded-full",children:(0,t.jsx)("svg",{className:"h-16 w-16 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No tasks yet"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"Get started by creating your first task!"})]}):(0,t.jsx)("ul",{className:"space-y-4",children:e.map(e=>(0,t.jsx)(l,{todo:e,onUpdate:a,onDelete:o},e.id))})}function d({onSubmit:e}){let[r,a]=(0,s.useState)(""),[o,i]=(0,s.useState)(""),[l,n]=(0,s.useState)(""),[d,c]=(0,s.useState)(!1),u=async t=>{if(t.preventDefault(),!r.trim())return void n("Title is required");c(!0);try{await e({title:r.trim(),description:o.trim()||void 0,is_completed:!1}),a(""),i(""),n("")}catch(e){n("Failed to create todo. Please try again.")}finally{c(!1)}};return(0,t.jsx)("form",{onSubmit:u,className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Title"}),(0,t.jsx)("input",{type:"text",id:"title",value:r,onChange:e=>a(e.target.value),placeholder:"What needs to be done?",disabled:d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-gray-900"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (optional)"}),(0,t.jsx)("textarea",{id:"description",rows:3,value:o,onChange:e=>i(e.target.value),placeholder:"Add details about this task...",disabled:d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 resize-none disabled:opacity-50 disabled:cursor-not-allowed text-gray-900"})]}),l&&(0,t.jsx)("div",{className:"rounded-lg bg-red-50 border border-red-200 p-3",children:(0,t.jsxs)("div",{className:"flex items-center text-sm text-red-700",children:[(0,t.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),l]})}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("button",{type:"submit",disabled:d||!r.trim(),className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white font-medium rounded-lg shadow-md transition duration-200 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center",children:d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Adding..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Task"]})})})]})})}function c(){let{createTodo:e}=i();return(0,t.jsx)("div",{className:"bg-gray-50 min-h-screen",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"mb-8 flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Tasks"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Here's what you need to do today. Stay productive!"})]}),(0,t.jsxs)("a",{href:"/chat",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,t.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Go to ChatBot"]})]}),(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Create New Task"}),(0,t.jsx)(d,{onSubmit:e})]})}),(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Your Tasks"}),(0,t.jsx)("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full",children:"All tasks"})]}),(0,t.jsx)(n,{})]})})]})})}e.s(["default",()=>c],25613)}]);