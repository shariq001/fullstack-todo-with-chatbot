{"version":3,"sources":["../../../../../frontend/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../../frontend/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../../frontend/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../../frontend/node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../../frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../../frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../../frontend/src/auth/auth-utils.ts","../../../../../frontend/app/reset-password/page.tsx","../../../../../frontend/components/auth/reset-password-form.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","/**\n * Authentication utilities for Better Auth integration.\n * Tokens are stored in localStorage after login for use with the backend API.\n */\n\nconst TOKEN_KEY = 'auth-token';\nconst SESSION_KEY = 'auth-session';\n\n/**\n * Gets the JWT token stored after login.\n */\nexport const getToken = async (): Promise<string | null> => {\n  try {\n    if (typeof window !== 'undefined') {\n      return localStorage.getItem(TOKEN_KEY);\n    }\n    return null;\n  } catch (error) {\n    console.error('Error getting token:', error);\n    return null;\n  }\n};\n\n/**\n * Stores the JWT token after successful login.\n */\nexport const setToken = (token: string): void => {\n  if (typeof window !== 'undefined') {\n    localStorage.setItem(TOKEN_KEY, token);\n  }\n};\n\n/**\n * Stores the session data after successful login.\n */\nexport const setSession = (session: any): void => {\n  if (typeof window !== 'undefined') {\n    localStorage.setItem(SESSION_KEY, JSON.stringify(session));\n  }\n};\n\n/**\n * Gets the stored session data.\n */\nexport const getSession = (): any | null => {\n  try {\n    if (typeof window !== 'undefined') {\n      const data = localStorage.getItem(SESSION_KEY);\n      return data ? JSON.parse(data) : null;\n    }\n    return null;\n  } catch {\n    return null;\n  }\n};\n\n/**\n * Checks if the current user is authenticated.\n */\nexport const isAuthenticated = async (): Promise<boolean> => {\n  const token = await getToken();\n  if (!token) return false;\n  return !isTokenExpired(token);\n};\n\n/**\n * Checks if a JWT token is expired.\n */\nexport const isTokenExpired = (token: string): boolean => {\n  try {\n    const parts = token.split('.');\n    if (parts.length !== 3) return true;\n\n    const base64 = parts[1].replace(/-/g, '+').replace(/_/g, '/');\n    const payload = JSON.parse(atob(base64));\n    const currentTime = Math.floor(Date.now() / 1000);\n    return payload.exp < currentTime;\n  } catch {\n    return true;\n  }\n};\n\n/**\n * Clears all authentication data.\n */\nexport const clearAuthSession = (): void => {\n  if (typeof window !== 'undefined') {\n    localStorage.removeItem(TOKEN_KEY);\n    localStorage.removeItem(SESSION_KEY);\n  }\n};\n","'use client';\n\nimport { Suspense } from 'react';\nimport ResetPasswordForm from '@/components/auth/reset-password-form';\n\nfunction ResetPasswordContent() {\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8\">\n      <div className=\"sm:mx-auto sm:w-full sm:max-w-md\">\n        <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\n          Create new password\n        </h2>\n        <p className=\"mt-2 text-center text-sm text-gray-600\">\n          Enter a new password for your account\n        </p>\n      </div>\n\n      <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\n        <div className=\"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10\">\n          <ResetPasswordForm />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function ResetPasswordPage() {\n  return (\n    <Suspense fallback={\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    }>\n      <ResetPasswordContent />\n    </Suspense>\n  );\n}\n","'use client';\n\nimport { useState } from 'react';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport { AuthService } from '@/services/auth-service';\n\nexport default function ResetPasswordForm() {\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n  const [error, setError] = useState('');\n\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const token = searchParams?.get('token') ?? null;\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n    setSuccessMessage('');\n    setLoading(true);\n\n    if (password !== confirmPassword) {\n      setError('Passwords do not match');\n      setLoading(false);\n      return;\n    }\n\n    if (password.length < 6) {\n      setError('Password must be at least 6 characters');\n      setLoading(false);\n      return;\n    }\n\n    try {\n      // Call the Better Auth reset password service\n      await AuthService.resetPassword(token!, password);\n      setSuccessMessage('Password reset successfully! Redirecting to login...');\n\n      // Redirect to login after a delay\n      setTimeout(() => {\n        router.push('/login');\n      }, 2000);\n    } catch (err: any) {\n      setError(err.message || 'Failed to reset password. Please try again.');\n      console.error('Reset password error:', err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (!token) {\n    return (\n      <div className=\"rounded-md bg-yellow-50 p-4 mb-4\">\n        <div className=\"text-sm text-yellow-700\">\n          No reset token provided. Please use the link from your email.\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <form className=\"space-y-6\" onSubmit={handleSubmit}>\n      {error && (\n        <div className=\"rounded-md bg-red-50 p-4\">\n          <div className=\"text-sm text-red-700\">{error}</div>\n        </div>\n      )}\n\n      {successMessage && (\n        <div className=\"rounded-md bg-green-50 p-4\">\n          <div className=\"text-sm text-green-700\">{successMessage}</div>\n        </div>\n      )}\n\n      <div>\n        <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700\">\n          New Password\n        </label>\n        <div className=\"mt-1\">\n          <input\n            id=\"password\"\n            name=\"password\"\n            type=\"password\"\n            required\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            disabled={loading}\n            className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm text-gray-900\"\n          />\n        </div>\n      </div>\n\n      <div>\n        <label htmlFor=\"confirmPassword\" className=\"block text-sm font-medium text-gray-700\">\n          Confirm New Password\n        </label>\n        <div className=\"mt-1\">\n          <input\n            id=\"confirmPassword\"\n            name=\"confirmPassword\"\n            type=\"password\"\n            required\n            value={confirmPassword}\n            onChange={(e) => setConfirmPassword(e.target.value)}\n            disabled={loading}\n            className=\"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm text-gray-900\"\n          />\n        </div>\n      </div>\n\n      <div>\n        <button\n          type=\"submit\"\n          disabled={loading}\n          className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50\"\n        >\n          {loading ? 'Resetting password...' : 'Reset Password'}\n        </button>\n      </div>\n\n      <div className=\"text-sm text-center\">\n        <a href=\"/login\" className=\"font-medium text-blue-600 hover:text-blue-500\">\n          Back to login\n        </a>\n      </div>\n    </form>\n  );\n}"],"names":["module","exports","require","vendored","AppRouterContext","HooksClientContext","ServerInsertedHtml","process","env","NEXT_RUNTIME","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","ReactJsxRuntime","React"],"mappings":"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","ignoreList":[0,1,2,3,4,5]}