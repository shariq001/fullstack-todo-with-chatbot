module.exports=[2057,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.AppRouterContext},3420,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.HooksClientContext},98823,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},31699,(a,b,c)=>{"use strict";b.exports=a.r(18622)},57850,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored["react-ssr"].ReactJsxRuntime},45056,(a,b,c)=>{"use strict";b.exports=a.r(31699).vendored["react-ssr"].React},46853,a=>{"use strict";let b=async()=>{try{return null}catch(a){return console.error("Error getting token:",a),null}};a.s(["clearAuthSession",0,()=>{},"getSession",0,()=>{try{return null}catch{return null}},"getToken",0,b,"setSession",0,a=>{},"setToken",0,a=>{}])},37720,a=>{"use strict";var b=a.i(45056),c=a.i(93609),d=a.i(87815);a.s(["useAuth",0,()=>{let[a,e]=(0,b.useState)(null),[f,g]=(0,b.useState)(!1),[h,i]=(0,b.useState)(!0),j=(0,c.useRouter)();return(0,b.useEffect)(()=>{(async()=>{try{let a=d.AuthService.getCurrentSession();a?.user&&await d.AuthService.isAuthenticated()&&(e(a.user),g(!0))}catch(a){console.error("Auth check failed:",a)}finally{i(!1)}})()},[]),{user:a,isAuthenticated:f,loading:h,login:async a=>{i(!0);try{let b=await d.AuthService.login(a),c=d.AuthService.getCurrentSession();return c?.user&&(e(c.user),g(!0)),b}catch(a){throw console.error("Login error:",a),a}finally{i(!1)}},register:async a=>{i(!0);try{let b=await d.AuthService.register(a),c=d.AuthService.getCurrentSession();return c?.user&&(e(c.user),g(!0)),b}catch(a){throw console.error("Registration error:",a),a}finally{i(!1)}},logout:async()=>{i(!0);try{await d.AuthService.logout(),e(null),g(!1),j.push("/login")}catch(a){console.error("Logout error:",a)}finally{i(!1)}}}}])},95636,a=>{"use strict";var b=a.i(57850),c=b,d=a.i(45056),e=a.i(93609),f=a.i(37720);let g=({children:a,fallback:b=(0,c.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,c.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})=>{let{isAuthenticated:g,loading:h}=(0,f.useAuth)(),i=(0,e.useRouter)();return((0,d.useEffect)(()=>{h||g||i.push("/login")},[g,h,i]),h||!g)?b:(0,c.jsx)(c.Fragment,{children:a})};function h(){let{user:a,logout:c,loading:d}=(0,f.useAuth)(),e=async()=>{try{await c()}catch(a){console.error("Logout failed:",a)}};return(0,b.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,b.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,b.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,b.jsx)("div",{className:"flex items-center",children:(0,b.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 p-2 rounded-lg",children:(0,b.jsx)("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,b.jsx)("span",{className:"ml-2 text-xl font-bold bg-gradient-to-r from-blue-600 to-indigo-700 bg-clip-text text-transparent",children:"TodoApp"})]})})}),(0,b.jsx)("div",{className:"flex items-center",children:a?(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsxs)("div",{className:"hidden md:block text-sm text-gray-700",children:[(0,b.jsx)("span",{className:"font-medium",children:"Welcome,"})," ",a.email]}),(0,b.jsx)("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-blue-400 to-indigo-500 flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-white text-sm font-medium",children:a.email.charAt(0).toUpperCase()})}),(0,b.jsx)("button",{onClick:e,disabled:d,className:"ml-2 px-4 py-2 text-sm font-medium text-white bg-gradient-to-r from-red-500 to-red-600 rounded-lg hover:from-red-600 hover:to-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 transition duration-200 shadow-sm",children:d?(0,b.jsxs)("span",{className:"flex items-center",children:[(0,b.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Logging out..."]}):"Logout"})]}):(0,b.jsx)("div",{className:"text-sm text-gray-700",children:"Not logged in"})})]})})})}function i({children:a}){return(0,b.jsx)(g,{children:(0,b.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,b.jsx)(h,{}),(0,b.jsx)("main",{className:"pb-8",children:a})]})})}a.s(["default",()=>i],95636)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__60fa7662._.js.map