module.exports=[24637,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(46853);let e=new class{baseUrl;constructor(a){this.baseUrl=a||"https://mushariq-full-stack-todo.hf.space"}async request(a,b={}){let c=`${this.baseUrl}${a}`,e=await (0,d.getToken)(),f={"Content-Type":"application/json",...e&&{Authorization:`Bearer ${e}`},...b.headers},g={...b,headers:f},h=await fetch(c,g);if(401===h.status)throw(0,d.clearAuthSession)(),Error("Unauthorized: Please log in again");if(204!==h.status){if(!h.ok){let a=await h.json().catch(()=>({}));throw Error(a.detail||a.message||`HTTP error! status: ${h.status}`)}return await h.json()}}get(a,b){return this.request(a,{...b,method:"GET"})}post(a,b,c){return this.request(a,{...c,method:"POST",body:JSON.stringify(b)})}put(a,b,c){return this.request(a,{...c,method:"PUT",body:JSON.stringify(b)})}delete(a,b){return this.request(a,{...b,method:"DELETE"})}};class f{static async getAllTodos(){return e.get("/tasks/")}static async createTodo(a){return e.post("/tasks/",a)}static async updateTodo(a,b){return e.put(`/tasks/${a}`,b)}static async deleteTodo(a){await e.delete(`/tasks/${a}`)}static async getTodoById(a){return e.get(`/tasks/${a}`)}}let g=()=>{let[a,b]=(0,c.useState)([]),[d,e]=(0,c.useState)(!0),[g,h]=(0,c.useState)(null),i=(0,c.useCallback)(async()=>{try{e(!0),h(null);let a=await f.getAllTodos();b(a)}catch(a){h(a instanceof Error?a.message:"Failed to fetch todos")}finally{e(!1)}},[]);return(0,c.useEffect)(()=>{i()},[i]),{todos:a,loading:d,error:g,createTodo:async a=>{try{h(null);let c=await f.createTodo(a);b(a=>[...a,c])}catch(a){throw h(a instanceof Error?a.message:"Failed to create todo"),a}},updateTodo:async(a,c)=>{try{h(null);let d=await f.updateTodo(a,c);b(b=>b.map(b=>b.id===a?d:b))}catch(a){throw h(a instanceof Error?a.message:"Failed to update todo"),a}},deleteTodo:async a=>{try{h(null),await f.deleteTodo(a),b(b=>b.filter(b=>b.id!==a))}catch(a){throw h(a instanceof Error?a.message:"Failed to delete todo"),a}},refetch:i}};function h({todo:a,onUpdate:d,onDelete:e}){let[f,g]=(0,c.useState)(!1),[h,i]=(0,c.useState)(a.title),[j,k]=(0,c.useState)(!1),l=async()=>{k(!0);try{await d(a.id,{is_completed:!a.is_completed})}catch(a){console.error("Failed to update todo:",a)}finally{k(!1)}},m=async()=>{if(""!==h.trim()){k(!0);try{await d(a.id,{title:h.trim()}),g(!1)}catch(a){console.error("Failed to update todo:",a)}finally{k(!1)}}},n=async()=>{if(window.confirm("Are you sure you want to delete this task?")){k(!0);try{await e(a.id)}catch(a){console.error("Failed to delete todo:",a)}finally{k(!1)}}};return(0,b.jsx)("li",{className:`bg-white rounded-lg shadow-sm border ${a.is_completed?"border-green-200 bg-green-50/50":"border-gray-200"} p-4 transition-all duration-200 hover:shadow-md`,children:(0,b.jsxs)("div",{className:"flex items-start",children:[(0,b.jsx)("input",{type:"checkbox",checked:a.is_completed,onChange:l,disabled:j,className:"h-5 w-5 text-blue-600 rounded focus:ring-blue-500 mt-0.5 flex-shrink-0"}),(0,b.jsx)("div",{className:"ml-3 flex-1 min-w-0",children:f?(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-2",children:[(0,b.jsx)("input",{type:"text",value:h,onChange:a=>i(a.target.value),className:"flex-1 min-w-0 block w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-gray-900",autoFocus:!0,onKeyDown:a=>"Enter"===a.key&&m()}),(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsx)("button",{onClick:m,disabled:j,className:"inline-flex items-center px-3 py-1.5 text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 transition duration-200",children:j?"Saving...":"Save"}),(0,b.jsx)("button",{onClick:()=>{g(!1),i(a.title)},className:"inline-flex items-center px-3 py-1.5 text-sm font-medium rounded-lg text-gray-700 bg-gray-200 hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition duration-200",children:"Cancel"})]})]}):(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:`text-base font-medium ${a.is_completed?"line-through text-gray-500":"text-gray-900"}`,children:a.title}),a.description&&(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500 break-words",children:a.description}),(0,b.jsxs)("p",{className:"mt-2 text-xs text-gray-400",children:["Created: ",new Date(a.created_at).toLocaleDateString()]})]}),(0,b.jsxs)("div",{className:"mt-2 sm:mt-0 flex space-x-2",children:[(0,b.jsxs)("button",{onClick:()=>g(!0),disabled:j,className:"inline-flex items-center px-3 py-1.5 text-sm font-medium rounded-lg text-blue-700 bg-blue-100 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 transition duration-200",children:[(0,b.jsx)("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),(0,b.jsxs)("button",{onClick:n,disabled:j,className:"inline-flex items-center px-3 py-1.5 text-sm font-medium rounded-lg text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 transition duration-200",children:[(0,b.jsx)("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]})})]})})}function i(){let{todos:a,loading:c,error:d,updateTodo:e,deleteTodo:f,refetch:i}=g();return c?(0,b.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((a,c)=>(0,b.jsx)("div",{className:"animate-pulse bg-white rounded-xl p-5 shadow-sm border border-gray-100",children:(0,b.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,b.jsx)("div",{className:"h-5 w-5 bg-gray-200 rounded mt-0.5"}),(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,b.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/2"}),(0,b.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]})]})},c))}):d?(0,b.jsx)("div",{className:"rounded-lg bg-red-50 border border-red-200 p-4 mb-4",children:(0,b.jsxs)("div",{className:"flex items-center text-red-700",children:[(0,b.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,b.jsxs)("span",{children:["Error: ",d]}),(0,b.jsx)("button",{onClick:i,className:"ml-4 text-sm underline text-red-600 hover:text-red-800",children:"Retry"})]})}):0===a.length?(0,b.jsxs)("div",{className:"text-center py-16",children:[(0,b.jsx)("div",{className:"flex justify-center mb-6",children:(0,b.jsx)("div",{className:"bg-gradient-to-r from-blue-100 to-indigo-100 p-4 rounded-full",children:(0,b.jsx)("svg",{className:"h-16 w-16 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No tasks yet"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:"Get started by creating your first task!"})]}):(0,b.jsx)("ul",{className:"space-y-4",children:a.map(a=>(0,b.jsx)(h,{todo:a,onUpdate:e,onDelete:f},a.id))})}function j({onSubmit:a}){let[d,e]=(0,c.useState)(""),[f,g]=(0,c.useState)(""),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(!1),l=async b=>{if(b.preventDefault(),!d.trim())return void i("Title is required");k(!0);try{await a({title:d.trim(),description:f.trim()||void 0,is_completed:!1}),e(""),g(""),i("")}catch(a){i("Failed to create todo. Please try again.")}finally{k(!1)}};return(0,b.jsx)("form",{onSubmit:l,className:"space-y-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Task Title"}),(0,b.jsx)("input",{type:"text",id:"title",value:d,onChange:a=>e(a.target.value),placeholder:"What needs to be done?",disabled:j,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-gray-900"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (optional)"}),(0,b.jsx)("textarea",{id:"description",rows:3,value:f,onChange:a=>g(a.target.value),placeholder:"Add details about this task...",disabled:j,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 resize-none disabled:opacity-50 disabled:cursor-not-allowed text-gray-900"})]}),h&&(0,b.jsx)("div",{className:"rounded-lg bg-red-50 border border-red-200 p-3",children:(0,b.jsxs)("div",{className:"flex items-center text-sm text-red-700",children:[(0,b.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h]})}),(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsx)("button",{type:"submit",disabled:j||!d.trim(),className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 hover:from-blue-600 hover:to-indigo-700 text-white font-medium rounded-lg shadow-md transition duration-200 transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center",children:j?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Adding..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Task"]})})})]})})}function k(){let{createTodo:a}=g();return(0,b.jsx)("div",{className:"bg-gray-50 min-h-screen",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,b.jsxs)("div",{className:"mb-8 flex justify-between items-start",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"My Tasks"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Here's what you need to do today. Stay productive!"})]}),(0,b.jsxs)("a",{href:"/chat",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,b.jsx)("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Go to ChatBot"]})]}),(0,b.jsx)("div",{className:"mb-8",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Create New Task"}),(0,b.jsx)(j,{onSubmit:a})]})}),(0,b.jsx)("div",{children:(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Your Tasks"}),(0,b.jsx)("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full",children:"All tasks"})]}),(0,b.jsx)(i,{})]})})]})})}a.s(["default",()=>k],24637)}];

//# sourceMappingURL=frontend_app_dashboard_page_tsx_67af984d._.js.map